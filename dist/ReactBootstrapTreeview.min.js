!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("clsx"),require("react-jss")):"function"==typeof define&&define.amd?define(["react","prop-types","clsx","react-jss"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ReactBootstrapTreeview=t(e.React,e.PropTypes,e.clsx,e.reactJss)}(this,(function(e,t,a,l){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),s=n(a);const i={list:t.arrayOf(t.object).isRequired,idName:t.string.isRequired,parentIdName:t.string.isRequired,label:t.oneOfType([t.string,t.func]).isRequired,tableClassName:t.string,actions:t.arrayOf(t.oneOf([t.func,t.shape({icon:t.oneOfType([t.string,t.element,t.func]).isRequired,onClick:t.func.isRequired,disabled:t.bool,hidden:t.bool})]))},o="bi bi-caret-right-fill",u="bi bi-caret-down-fill";function c(t,a){const[l,n]=e.useState("");return e.useEffect((()=>{n("string"==typeof a?t[a]:a(t))}),[t]),{rowLabel:l}}const f=l.createUseStyles({tdContentStyle:{display:"flex",flexGrow:1,justifyContent:"space-between",cursor:"pointer"},marginLeft:{marginLeft:e=>e.levelNum+1-1+"rem"},label:{order:0},actions:{order:1}});function d({rowData:t,label:a,idName:l,level:n=1}){const{isOpen:i,toggleRow:m,icon:p}=function(t){const[a,l]=e.useState(t),[n,r]=e.useState(t?u:o);return{isOpen:a,toggleRow:function(){l((e=>(r(e?o:u),!a)))},icon:n}}(!1),{rowLabel:b}=c(t,a),[g,y]=e.useState(n+1),N=f({levelNum:n});return r.default.createElement(r.default.Fragment,null,r.default.createElement("tr",null,r.default.createElement("td",{className:N.tdContentStyle,onClick:m},r.default.createElement("span",{className:s.default(N.marginLeft,N.label)},r.default.createElement("span",{className:N.marginLeft},t.children?.length>0&&r.default.createElement("i",{className:p})),"Â ",b),r.default.createElement("span",{className:N.actions}))),t.children?.length>0&&i&&t.children.map((e=>r.default.createElement(d,{rowData:e,label:a,idName:l,key:e[l],level:g}))))}function m({list:t,idName:a,parentIdName:l,label:n,tableClassName:s}){const[i,o]=e.useState([]);return e.useEffect((()=>{o(((e,t,a)=>{let l,n={},r=[];for(let a=0;a<e.length;a++)n[e[a][t]]=a,e[a].children=[];for(let t=0;t<e.length;t++)l=e[t],0!==l[a]&&null!==l[a]?e[n[l[a]]].children.push(l):r.push(l);return r})(t,a,l))}),[t]),r.default.createElement(r.default.Fragment,null,r.default.createElement("table",{className:s},r.default.createElement("tbody",null,i.map((e=>r.default.createElement(d,{rowData:e,label:n,idName:a,key:e[a],isParent:!0}))))))}function p(e){return r.default.createElement(m,e)}return p.defaultProps={tableClassName:"table"},p.propTypes=i,p}));
