!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("clsx"),require("react-jss")):"function"==typeof define&&define.amd?define(["react","prop-types","clsx","react-jss"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ReactBootstrapTreeview=t(e.React,e.PropTypes,e.clsx,e.reactJss)}(this,(function(e,t,a,l){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),s=n(t),i=n(a);const u={list:s.default.arrayOf(s.default.object).isRequired,idName:s.default.string.isRequired,parentIdName:s.default.string.isRequired,label:s.default.oneOfType([s.default.string,s.default.func]).isRequired,tableClassName:s.default.string,actions:s.default.arrayOf(s.default.oneOf([s.default.func,s.default.shape({icon:s.default.string.isRequired,onClick:s.default.func.isRequired,buttonClass:s.default.string,disabled:s.default.bool,hidden:s.default.bool})]))},o="bi bi-caret-right-fill",d="bi bi-caret-down-fill";function c(t,a){const[l,n]=e.useState("");return e.useEffect((()=>{n("string"==typeof a?t[a]:a(t))}),[t]),{rowLabel:l}}const f=l.createUseStyles({tdContentStyle:{display:"flex",flexGrow:1,justifyContent:"space-between",cursor:"pointer",alignItems:"center"},marginLeft:{marginLeft:e=>e.levelNum+1-1+"rem"},label:{order:0},actions:{order:1}}),m=l.createUseStyles({hidden:{display:"none"}}),p=(e,t,a)=>{let l={function:()=>t(a).onClick(e,a),object:()=>t.onClick(e,a)};e.stopPropagation(),l[typeof t]()},b={function:(e,t,a,l)=>r.default.createElement("button",{type:"button",key:t,className:i.default("btn",e(a).buttonClass,!0===e(a).hidden?l.hidden:""),onClick:t=>p(t,e,a),disabled:e(a).disabled},r.default.createElement("i",{className:e(a).icon})),object:(e,t,a,l)=>r.default.createElement("button",{type:"button",key:t,className:i.default("btn",e.buttonClass,!0===e.hidden?l.hidden:""),onClick:t=>p(t,e,a),disabled:e.disabled},r.default.createElement("i",{className:e.icon}))};function g({actions:e,rowData:t}){const a=m();return r.default.createElement(r.default.Fragment,null,e.map(((e,l)=>r.default.createElement(r.default.Fragment,null,b[typeof e]?.(e,l,t,a)," "))))}function y({rowData:t,label:a,idName:l,actions:n,level:s=1}){const{isOpen:u,toggleRow:m,icon:p}=function(t){const[a,l]=e.useState(t),[n,r]=e.useState(t?d:o);return{isOpen:a,toggleRow:function(){l((e=>(r(e?o:d),!a)))},icon:n}}(!1),{rowLabel:b}=c(t,a),[h]=e.useState(s+1),E=f({levelNum:s});return r.default.createElement(r.default.Fragment,null,r.default.createElement("tr",null,r.default.createElement("td",{className:E.tdContentStyle,onClick:m},r.default.createElement("span",{className:i.default(E.marginLeft,E.label)},r.default.createElement("span",{className:E.marginLeft},t.__children?.length>0&&r.default.createElement("i",{className:p}))," ",b),r.default.createElement("span",{className:E.actions,onClick:e=>e.stopPropagation()},r.default.createElement(g,{actions:n,rowData:t})))),t.__children?.length>0&&u&&t.__children.map((e=>r.default.createElement(y,{rowData:e,label:a,idName:l,actions:n,key:e[l],level:h}))))}function h({list:t,idName:a,parentIdName:l,label:n,tableClassName:s,actions:i}){const[u,o]=e.useState([]);return e.useEffect((()=>{o(((e,t,a)=>{let l,n={},r=[];for(let a=0;a<e.length;a++)n[e[a][t]]=a,e[a].__children=[];for(let t=0;t<e.length;t++)l=e[t],0!==l[a]&&null!==l[a]?e[n[l[a]]].__children.push(l):r.push(l);return r})(t,a,l))}),[t]),r.default.createElement(r.default.Fragment,null,r.default.createElement("table",{className:s},r.default.createElement("tbody",null,u.map((e=>r.default.createElement(y,{rowData:e,label:n,idName:a,actions:i,key:e[a],isParent:!0}))))))}function E(e){return r.default.createElement(h,e)}return E.defaultProps={tableClassName:"table"},E.propTypes=u,E}));
